{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar Logger_1 = require(\"./Logger\");\nvar logger = new Logger_1.ConsoleLogger('Parser');\nexports.parseMobileHubConfig = function (config) {\n  var amplifyConfig = {};\n  // Analytics\n  if (config['aws_mobile_analytics_app_id']) {\n    var Analytics = {\n      AWSPinpoint: {\n        appId: config['aws_mobile_analytics_app_id'],\n        region: config['aws_mobile_analytics_app_region']\n      }\n    };\n    amplifyConfig.Analytics = Analytics;\n  }\n  // Auth\n  if (config['aws_cognito_identity_pool_id'] || config['aws_user_pools_id']) {\n    amplifyConfig.Auth = {\n      userPoolId: config['aws_user_pools_id'],\n      userPoolWebClientId: config['aws_user_pools_web_client_id'],\n      region: config['aws_cognito_region'],\n      identityPoolId: config['aws_cognito_identity_pool_id'],\n      identityPoolRegion: config['aws_cognito_region'],\n      mandatorySignIn: config['aws_mandatory_sign_in'] === 'enable'\n    };\n  }\n  // Storage\n  var storageConfig;\n  if (config['aws_user_files_s3_bucket']) {\n    storageConfig = {\n      AWSS3: {\n        bucket: config['aws_user_files_s3_bucket'],\n        region: config['aws_user_files_s3_bucket_region'],\n        dangerouslyConnectToHttpEndpointForTesting: config['aws_user_files_s3_dangerously_connect_to_http_endpoint_for_testing']\n      }\n    };\n  } else {\n    storageConfig = config ? config.Storage || config : {};\n  }\n  amplifyConfig.Analytics = Object.assign({}, amplifyConfig.Analytics, config.Analytics);\n  amplifyConfig.Auth = Object.assign({}, amplifyConfig.Auth, config.Auth);\n  amplifyConfig.Storage = Object.assign({}, storageConfig);\n  logger.debug('parse config', config, 'to amplifyconfig', amplifyConfig);\n  return amplifyConfig;\n};\n/**\n * @deprecated use per-function export\n */\nvar Parser = /** @class */function () {\n  function Parser() {}\n  Parser.parseMobilehubConfig = exports.parseMobileHubConfig;\n  return Parser;\n}();\nexports.Parser = Parser;\n/**\n * @deprecated use per-function export\n */\nexports.default = Parser;","map":{"version":3,"names":["Logger_1","require","logger","ConsoleLogger","exports","parseMobileHubConfig","config","amplifyConfig","Analytics","AWSPinpoint","appId","region","Auth","userPoolId","userPoolWebClientId","identityPoolId","identityPoolRegion","mandatorySignIn","storageConfig","AWSS3","bucket","dangerouslyConnectToHttpEndpointForTesting","Storage","Object","assign","debug","Parser","parseMobilehubConfig","default"],"sources":["../src/Parser.ts"],"sourcesContent":[null],"mappings":";;;;;AACA,IAAAA,QAAA,GAAAC,OAAA;AAEA,IAAMC,MAAM,GAAG,IAAIF,QAAA,CAAAG,aAAM,CAAC,QAAQ,CAAC;AAEtBC,OAAA,CAAAC,oBAAoB,GAAG,UAACC,MAAM;EAC1C,IAAMC,aAAa,GAAkB,EAAE;EACvC;EACA,IAAID,MAAM,CAAC,6BAA6B,CAAC,EAAE;IAC1C,IAAME,SAAS,GAAG;MACjBC,WAAW,EAAE;QACZC,KAAK,EAAEJ,MAAM,CAAC,6BAA6B,CAAC;QAC5CK,MAAM,EAAEL,MAAM,CAAC,iCAAiC;;KAEjD;IACDC,aAAa,CAACC,SAAS,GAAGA,SAAS;;EAGpC;EACA,IAAIF,MAAM,CAAC,8BAA8B,CAAC,IAAIA,MAAM,CAAC,mBAAmB,CAAC,EAAE;IAC1EC,aAAa,CAACK,IAAI,GAAG;MACpBC,UAAU,EAAEP,MAAM,CAAC,mBAAmB,CAAC;MACvCQ,mBAAmB,EAAER,MAAM,CAAC,8BAA8B,CAAC;MAC3DK,MAAM,EAAEL,MAAM,CAAC,oBAAoB,CAAC;MACpCS,cAAc,EAAET,MAAM,CAAC,8BAA8B,CAAC;MACtDU,kBAAkB,EAAEV,MAAM,CAAC,oBAAoB,CAAC;MAChDW,eAAe,EAAEX,MAAM,CAAC,uBAAuB,CAAC,KAAK;KACrD;;EAGF;EACA,IAAIY,aAAa;EACjB,IAAIZ,MAAM,CAAC,0BAA0B,CAAC,EAAE;IACvCY,aAAa,GAAG;MACfC,KAAK,EAAE;QACNC,MAAM,EAAEd,MAAM,CAAC,0BAA0B,CAAC;QAC1CK,MAAM,EAAEL,MAAM,CAAC,iCAAiC,CAAC;QACjDe,0CAA0C,EACzCf,MAAM,CACL,oEAAoE;;KAGvE;GACD,MAAM;IACNY,aAAa,GAAGZ,MAAM,GAAGA,MAAM,CAACgB,OAAO,IAAIhB,MAAM,GAAG,EAAE;;EAEvDC,aAAa,CAACC,SAAS,GAAGe,MAAM,CAACC,MAAM,CACtC,EAAE,EACFjB,aAAa,CAACC,SAAS,EACvBF,MAAM,CAACE,SAAS,CAChB;EACDD,aAAa,CAACK,IAAI,GAAGW,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEjB,aAAa,CAACK,IAAI,EAAEN,MAAM,CAACM,IAAI,CAAC;EACvEL,aAAa,CAACe,OAAO,GAAGC,MAAM,CAACC,MAAM,CAAC,EAAE,EAAEN,aAAa,CAAC;EACxDhB,MAAM,CAACuB,KAAK,CAAC,cAAc,EAAEnB,MAAM,EAAE,kBAAkB,EAAEC,aAAa,CAAC;EACvE,OAAOA,aAAa;AACrB,CAAC;AAED;;;AAGA,IAAAmB,MAAA;EAAA,SAAAA,OAAA,GAEA;EADQA,MAAA,CAAAC,oBAAoB,GAAGvB,OAAA,CAAAC,oBAAoB;EACnD,OAAAqB,MAAC;CAAA,CAFD;AAAatB,OAAA,CAAAsB,MAAA,GAAAA,MAAA;AAIb;;;AAGAtB,OAAA,CAAAwB,OAAA,GAAeF,MAAM","ignoreList":[]},"metadata":{},"sourceType":"script"}