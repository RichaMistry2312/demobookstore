{"ast":null,"code":"var _jsxFileName = \"/Users/richa/Desktop/Projects/demo-project/store/bookstore-v2/src/context/cart.js\";\nimport React, { useState, useEffect } from \"react\";\nconst CartContext = React.createContext();\nconst CartProvider = ({\n  children\n}) => {\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(0);\n  useEffect(() => {\n    const total = [...cart].reduce((total, {\n      amount,\n      price\n    }) => {\n      return total += amount * price;\n    }, 0);\n    setTotal(parseFloat(total.toFixed(2)));\n  }, [cart]);\n  const increaseAmount = id => {\n    const updatedCart = [...cart].map(item => {\n      return item.id === id ? {\n        ...item,\n        amount: item.amount + 1\n      } : item;\n    });\n    setCart(updatedCart);\n  };\n  const decreaseAmount = (id, amount) => {\n    let updatedCart = [];\n    if (amount === 1) {\n      updatedCart = [...cart].filter(item => item.id !== id);\n    } else {\n      updatedCart = [...cart].map(item => {\n        return item.id === id ? {\n          ...item,\n          amount: item.amount - 1\n        } : item;\n      });\n    }\n    setCart(updatedCart);\n  };\n  const addToCart = book => {\n    const {\n      id,\n      title,\n      price,\n      image\n    } = book;\n    const cartItem = [...cart].find(item => item.id === id);\n    if (cartItem) {\n      increaseAmount(id);\n    } else {\n      const cartItems = [...cart, {\n        id,\n        title,\n        image,\n        price,\n        amount: 1\n      }];\n      setCart(cartItems);\n    }\n  };\n  const clearCart = () => {\n    setCart([]);\n  };\n  return /*#__PURE__*/React.createElement(CartContext.Provider, {\n    value: {\n      cart,\n      total,\n      addToCart,\n      increaseAmount,\n      decreaseAmount,\n      clearCart\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 5\n    }\n  }, children);\n};\nexport { CartProvider, CartContext };","map":{"version":3,"names":["React","useState","useEffect","CartContext","createContext","CartProvider","children","cart","setCart","total","setTotal","reduce","amount","price","parseFloat","toFixed","increaseAmount","id","updatedCart","map","item","decreaseAmount","filter","addToCart","book","title","image","cartItem","find","cartItems","clearCart","createElement","Provider","value","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber"],"sources":["/Users/richa/Desktop/Projects/demo-project/store/bookstore-v2/src/context/cart.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\n\nconst CartContext = React.createContext();\n\nconst CartProvider = ({ children }) => {\n  const [cart, setCart] = useState([]);\n  const [total, setTotal] = useState(0);\n\n  useEffect(() => {\n    const total = [...cart].reduce((total, { amount, price }) => {\n      return (total += amount * price);\n    }, 0);\n    setTotal(parseFloat(total.toFixed(2)));\n  }, [cart]);\n\n  const increaseAmount = (id) => {\n    const updatedCart = [...cart].map((item) => {\n      return item.id === id ? { ...item, amount: item.amount + 1 } : item;\n    });\n    setCart(updatedCart);\n  };\n\n  const decreaseAmount = (id, amount) => {\n    let updatedCart = [];\n    if (amount === 1) {\n      updatedCart = [...cart].filter((item) => item.id !== id);\n    } else {\n      updatedCart = [...cart].map((item) => {\n        return item.id === id ? { ...item, amount: item.amount - 1 } : item;\n      });\n    }\n    setCart(updatedCart);\n  };\n\n  const addToCart = (book) => {\n    const { id, title, price, image } = book;\n    const cartItem = [...cart].find((item) => item.id === id);\n    if (cartItem) {\n      increaseAmount(id);\n    } else {\n      const cartItems = [...cart, { id, title, image, price, amount: 1 }];\n      setCart(cartItems);\n    }\n  };\n\n  const clearCart = () => {\n    setCart([]);\n  };\n\n  return (\n    <CartContext.Provider\n      value={{ cart, total, addToCart, increaseAmount, decreaseAmount, clearCart }}\n    >\n      {children}\n    </CartContext.Provider>\n  );\n};\n\nexport { CartProvider, CartContext };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}